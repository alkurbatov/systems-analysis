# Описание принятых решений

## Глоссарий
`Коты-тестировщики (КТ)` - сотрудники компании `Happy Cat Box`, клиенты продукта.
`Клиент` - кот-тестировщик (в первой версии продукта).
`Коты-менеджеры (КМ)` - сотрудники компании `Make Cats Free`, администраторы продукта.
`Услуга` - рутинные задачи по тыгыдыканию и скидыванию стаканов.
`Котоединицы (ке)` - условные денежные единицы для оплаты `услуг`.
`Кот-воркер (КВ)` - исполнитель `услуги`.
`Эталонный образец` - синоним `клиента`, используется командной матчинга.
`Обычный образец` - синоним `кота-воркера`, используется командной матчинга.
`Сотрудник отдела расходников` - отвечает за выдачу расходников для выполнения заказа.

## Реализация проекта
Выбран монолит с несколькими отдельными сервисами вокруг:
1. Матчинг вынесен в отдельный сервис, им будет заниматься отдельная команда со своей архитектурой на языке по их выбору.
2. Ищем готовый сервис для организации процесса тестирования, чтобы не писать самим. Если не найдем, пишем сами или дорабатываем существующий (из `open source`).
3. В качестве базы выбрана `Postgres DB`, выглядит подходящим решением для ожидаемой нагрузки приложения.
4. Для повышения производительности добавлен кэш (`Redis`).
5. Добавлен балансировщик нагрузки, чтобы обеспечить масштабирование сервиса тестирования для работу с большим потоком заявок.
6. Добавлен rate limiter для защиты от недобросовестных конкурентов.

### Коммуникации
1. Синхронные коммуникации с сервисом матчинга, тк системе необходимо добавить исполнителя к данным о заказе для передачи полной информации дальше. Без исполнителя работа над заказом не начнется.
2. Коммуникации между сервисом тестирования и основным монолитом как таковой нет, данные лежат в общей базе.

### Причины выбора монолита
1. Считаем, что сможем быстро сделать сервис и обеспечить низкий `TTM` (доверяем аргументации Ибрагима и личному опыту). 
2. Предполагаем, что требования сильно изменятся после первого запуска и столкновения с реальностью, на начальной стадии монолит изменить часто быстрее и проще.
3. В учебных целях: хотим получить опыт распиливания монолита.

### Спорные и критичные места
1. Система ставок выглядит подозрительно, могут быть проблемы с законом.
2. Утверждается, что система ставок меняться не будет. Это утверждение ничем не подкреплено, вероятно все же будет.
3. Если поставщик печенья не будет выполнять обязательства в срок, возможны задержки  в выдаче расходников и  провал заказов по времени выполнения. 
4. Если не найдем готовый сервис тестирования, удовлетворяющий нас. Тогда придется писать самим и Том вырастет.
5. В первой версии коты-воркеры могут обойтись сайтом/дашбордом при работе над заказом. В будущем стоит сделать мобильное приложение, это удобно.